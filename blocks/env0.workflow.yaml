environments:
  VPC:
    name: VPC
    templateName: 'Merck-Demo-VPC'
  SUBNET1:
    name: Subnet1
    templateName: 'Merck-Demo-Subnet'
    needs:
      - VPC
  COMPUTE:
    name: EC2
    templateName: 'Merck-Demo-EC2'
    needs:
      - VPC
      - SUBNET1
  
  VPC2:
    name: VPC2
    templateName: 'Merck-Demo-VPC'
  SUBNET2:
    name: Subnet2
    templateName: 'Merck-Demo-Subnet'
    needs:
      - VPC2
  
  PEER:
    name: PEER
    templateName: 'Merck-Demo-VPC-Peering-And-Routes'
    needs:
      - VPC
      - VPC2

settings:
  environmentRemovalStrategy: destroy